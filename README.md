## Tools to read and write iTead Nextion .zi font files, for your pleasure.

Also provided is a tool to convert BMFont files to ZI format. Why? Because the built-in font generator kind of sucks and won't even anti-alias the small fonts that really need it. And, because it's just nice to have full control. Oh, and it produces ever so slightly smaller files.

### Features:

- Read and write ZI v6 font format
- UTF-8 unicode
- Anti-aliasing
- Variable width
- Nextion beating RLE compression

### Caveats:

- Only ZIv6 format supported
- Only UTF-8 - no ASCII or code-pages
- This is **not** quality code, it is quick-and-dirty, hack'n'slash, untested, drunken-foo, late-night, proof-of-concept code
- That said, it does seem to work at least for the few use cases I've had.

### BMFont files can be generated by choice of third party software:
- https://snowb.org/
- https://www.angelcode.com/products/bmfont/
- https://github.com/vladimirgamalyan/fontbm


### To compile (sorry, all files in one directory... I already warned you - it's messy):

```gcc parse.c zi_font.c -oparse```  
Builds .zi file parser. Usage: parse <font.zi>  
Will print font properties and write all glyphs to .tga files in current directory.


```gcc produce.c zi_font.c -oproduce```  
Build .zi file producer. Usage: produce <output.zi> <font_name> <height>  
Will produce a .zi file from properties by arguments, using .tga files in current directory as glyphs.


```gcc repack.c zi_font.c -orepack```  
Build .zi file re-packer. Usage: repack <input.zi> <output.zi>  
Will produce a .zi file from another .zi file, to verify zi_font.c operation.


```gcc bmf_to_zi.c zi_font.c upng.c -obmf_to_zi```  
Build BMFont Binary .fnt to .zi conversion tool. Usage: bmf_to_zi <font> (omit .fnt)  
Will produce a .zi file from a .fnt file with accompanying .tga or .png glyph atlas.


### Shout outs:

- https://github.com/elanthis/upng
- https://github.com/hagronnestad/nextion-font-editor

